<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Collections | Aloura</title>
    <link rel="stylesheet" href="/css/collections-dimension.css">
    <link rel="stylesheet" href="/css/navBar.css">
</head>
<body>
    <%- include('partials/navbar') %>

    <!-- Progress Indicator -->
    <div class="scroll-progress">
        <div class="progress-dot" data-section="hero"></div>
        <div class="progress-dot" data-section="signature"></div>
        <div class="progress-dot" data-section="him"></div>
        <div class="progress-dot" data-section="her"></div>
        <div class="progress-dot" data-section="universe"></div>
        <div class="progress-dot" data-section="notes"></div>
    </div>

    <!-- Hero Section -->
    <section class="hero-section">
        <div class="hero-content">
            <div class="hero-text">
                <h1>ALOURA</h1>
                <p class="hero-subtitle">The Art of Fragrance</p>
            </div>
            <div class="hero-image-container">
                <video autoplay muted loop playsinline class="hero-image">
                    <source src="/videos/EMMA STONE - LV.mp4" type="video/mp4">
                </video>
                <div class="hero-overlay"></div>
            </div>
        </div>
    </section>

    <!-- Collection Showcase -->
    <section class="collection-showcase">
        <div class="module-block">
            <div class="image-container">
                <img src="/img/fresh.jpg" alt="Signature Collection">
            </div>
            <div class="content-container">
                <div class="content-inner">
                    <h2>Signature Collection</h2>
                    <p>Discover our iconic fragrances, carefully crafted to embody the essence of luxury and sophistication. Each scent tells a unique story, creating an unforgettable olfactory experience.</p>
                    <a href="#" class="showcase-button">Explore Collection</a>
                </div>
            </div>
        </div>

        <div class="module-block reverse">
            <div class="image-container">
                <img src="/img/spicy.jpg" alt="For Him">
            </div>
            <div class="content-container">
                <div class="content-inner">
                    <h2>For Him</h2>
                    <p>Bold and sophisticated fragrances designed for the modern gentleman. Our masculine collection combines strength with elegance, creating distinctive scents that leave a lasting impression.</p>
                    <a href="#" class="showcase-button">View Collection</a>
                </div>
            </div>
        </div>

        <div class="module-block">
            <div class="image-container">
                <img src="/img/floral.jpg" alt="For Her">
            </div>
            <div class="content-container">
                <div class="content-inner">
                    <h2>For Her</h2>
                    <p>Delicate yet powerful, our feminine collection captures the essence of modern elegance. Each fragrance is a masterpiece of refined notes that celebrate feminine beauty and confidence.</p>
                    <a href="#" class="showcase-button">View Collection</a>
                </div>
            </div>
        </div>
    </section>

    <!-- Universe Section -->
    <section class="universe-section">
        <div class="universe-content">
            <div class="universe-text">
                <h2>Our Universe</h2>
                <p>Where artistry meets alchemy, each fragrance tells a story of sophistication.</p>
                <a href="#explore" class="universe-button">Explore</a>
            </div>
            <div class="universe-image">
                <img src="/img/ALOURA.jpg" alt="Aloura Universe">
            </div>
        </div>
    </section>

    <!-- Fragrance Notes Carousel -->
    <section class="fragrance-notes">
        <h2 class="section-title">Explore Our Notes</h2>
        <p class="section-subtitle">Discover the elements that define our distinctive fragrances</p>
        <div class="notes-carousel">
            <div class="carousel-container">
                <div class="carousel-track">
                    <div class="note-item">
                        <div class="note-inner">
                            <div class="note-front">
                                <img src="/img/fruity.jpg" alt="Fruity Notes">
                            </div>
                            <div class="note-overlay">
                                <h3>Fruity Notes</h3>
                                <p>A vibrant composition of succulent fruits and crisp citrus, creating an energetic and refreshing experience</p>
                                <a href="#" class="note-link">Discover</a>
                            </div>
                        </div>
                    </div>

                    <div class="note-item">
                        <div class="note-inner">
                            <div class="note-front">
                                <img src="/img/spicy.jpg" alt="Spicy Notes">
                            </div>
                            <div class="note-overlay">
                                <h3>Spicy Notes</h3>
                                <p>An intense blend of warming spices and aromatic elements that create depth and sophistication</p>
                                <a href="#" class="note-link">Explore</a>
                            </div>
                        </div>
                    </div>

                    <div class="note-item">
                        <div class="note-inner">
                            <div class="note-front">
                                <img src="/img/new_floral.jpg" alt="Floral Notes">
                            </div>
                            <div class="note-overlay">
                                <h3>Floral Notes</h3>
                                <p>Refined compositions of precious flowers creating timelessly elegant fragrances</p>
                                <a href="#" class="note-link">View Collection</a>
                            </div>
                        </div>
                    </div>

                    <div class="note-item">
                        <div class="note-inner">
                            <div class="note-front">
                                <img src="/img/leathery.jpg" alt="Woody Notes">
                            </div>
                            <div class="note-overlay">
                                <h3>Woody Notes</h3>
                                <p>Rich and complex aromas of precious woods, creating distinguished masculine essence</p>
                                <a href="#" class="note-link">Learn More</a>
                            </div>
                        </div>
                    </div>

                    <div class="note-item">
                        <div class="note-inner">
                            <div class="note-front">
                                <img src="/img/new_aromatic__green.jpg" alt="Fresh Notes">
                            </div>
                            <div class="note-overlay">
                                <h3>Fresh Notes</h3>
                                <p>Pure and invigorating compositions with crisp, natural elements</p>
                                <a href="#" class="note-link">Discover More</a>
                            </div>
                        </div>
                    </div>

                    <div class="note-item">
                        <div class="note-inner">
                            <div class="note-front">
                                <img src="/img/fresh.jpg" alt="Sweet Notes">
                            </div>
                            <div class="note-overlay">
                                <h3>Sweet Notes</h3>
                                <p>Refined gourmand accords with sophisticated vanilla and amber undertones</p>
                                <a href="#" class="note-link">View Details</a>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <button class="carousel-btn prev-btn" aria-label="Previous slide">❮</button>
            <button class="carousel-btn next-btn" aria-label="Next slide">❯</button>
        </div>
    </section>

    <script>
        // Smooth scroll behavior
        document.querySelectorAll('a[href^="#"]').forEach(anchor => {
            anchor.addEventListener('click', function (e) {
                e.preventDefault();
                document.querySelector(this.getAttribute('href')).scrollIntoView({
                    behavior: 'smooth'
                });
            });
        });

        // Combined Intersection Observer for all animated elements
        document.addEventListener('DOMContentLoaded', function() {
            const observer = new IntersectionObserver((entries) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        entry.target.classList.add('visible');
                    } else {
                        entry.target.classList.remove('visible');
                    }
                });
            }, {
                threshold: 0.2
            });

            // Observe all elements that should animate
            document.querySelectorAll('.module-block, .showcase-item, .note-item, .universe-text, .universe-image').forEach((el) => {
                observer.observe(el);
            });
        });

        // Carousel functionality
        document.addEventListener('DOMContentLoaded', function() {
            const track = document.querySelector('.carousel-track');
            const items = document.querySelectorAll('.note-item');
            const prevBtn = document.querySelector('.prev-btn');
            const nextBtn = document.querySelector('.next-btn');
            
            let currentIndex = 0;
            const itemWidth = items[0].offsetWidth;
            const visibleItems = 3;
            const totalItems = items.length;
            
            function updateCarousel() {
                const offset = -currentIndex * (itemWidth + 20); // 20px is the gap
                track.style.transform = `translateX(${offset}px)`;
            }
            
            nextBtn.addEventListener('click', () => {
                currentIndex = (currentIndex + 1) % (totalItems - visibleItems + 1);
                updateCarousel();
            });
            
            prevBtn.addEventListener('click', () => {
                currentIndex = (currentIndex - 1 + (totalItems - visibleItems + 1)) % (totalItems - visibleItems + 1);
                updateCarousel();
            });
            
            // Auto-rotate carousel
            let autoRotate = setInterval(() => {
                currentIndex = (currentIndex + 1) % (totalItems - visibleItems + 1);
                updateCarousel();
            }, 5000);
            
            // Pause auto-rotation on hover
            document.querySelector('.notes-carousel').addEventListener('mouseenter', () => {
                clearInterval(autoRotate);
            });
            
            document.querySelector('.notes-carousel').addEventListener('mouseleave', () => {
                autoRotate = setInterval(() => {
                    currentIndex = (currentIndex + 1) % (totalItems - visibleItems + 1);
                    updateCarousel();
                }, 5000);
            });
        });

        // Progress Indicator and Scroll Handling
        document.addEventListener('DOMContentLoaded', function() {
            const sections = [
                document.querySelector('.hero-section'),
                ...document.querySelectorAll('.module-block'),
                document.querySelector('.universe-section'),
                document.querySelector('.fragrance-notes')
            ];
            
            const dots = document.querySelectorAll('.progress-dot');

            // Handle dot clicks
            dots.forEach((dot, index) => {
                dot.addEventListener('click', () => {
                    sections[index].scrollIntoView({ behavior: 'smooth' });
                });
            });

            // Update active dot on scroll
            let currentSection = 0;
            const observerOptions = {
                root: null,
                threshold: 0.5,
                rootMargin: '0px'
            };

            const observer = new IntersectionObserver((entries) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        const index = sections.indexOf(entry.target);
                        updateActiveDot(index);
                        if (entry.target.classList.contains('module-block')) {
                            entry.target.classList.add('visible');
                        }
                    }
                });
            }, observerOptions);

            sections.forEach(section => observer.observe(section));

            function updateActiveDot(index) {
                dots.forEach(dot => dot.classList.remove('active'));
                dots[index].classList.add('active');
                currentSection = index;
            }

            // Initial active state
            updateActiveDot(0);

            // Smooth scrolling for navigation links
            document.querySelectorAll('a[href^="#"]').forEach(anchor => {
                anchor.addEventListener('click', function (e) {
                    e.preventDefault();
                    document.querySelector(this.getAttribute('href')).scrollIntoView({
                        behavior: 'smooth'
                    });
                });
            });
        });
    </script>
</body>
</html>