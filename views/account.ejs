<!DOCTYPE html>
<html lang="en">
  <head>
    <!-- META DATA -->
    <!-- Define type of characters used in our website -->
    <meta charset="UTF-8" />
    <!-- Keywords for search engine: will be useful when publishing -->
    <meta name="keywords" content="Perfumes, Fragrances" />
    <!--  Different devices with different resolutions-->
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <!-- Description displayed in search engine -->
    <meta
      name="description"
      content="Discover suitable high-quality fragrances at catchy prices. Your perfect fragrance journey starts here."
    />
    <title>Account - Aloura</title>
    <!-- END OF META DATA -->

    <!-- Tab Logo / 'Favicon' -->
    <link
      rel="icon"
      type="image/x-icon"
      href="../img/favicons/rounded-background-favicon.ico"
    />

    <!-- CSS Links (Connecting the CSS file to this file) -->
    <link rel="stylesheet" href="../css/account.css" />

    <!-- Font Awesome (navbar, footer, modal, chatbot, cart all use it's icons SO MAKE SURE TO LINK IT) -->
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.7.2/css/all.min.css"
      integrity="sha512-Evv84Mr4kqVGRNSgIGL/F/aIDqQb7xQ2vcrdIwxfjThSH8CSR7PBEakCr51Ck+w+/U6swU2Im1vVX0SVk9ABhg=="
      crossorigin="anonymous"
      referrerpolicy="no-referrer"
    />

    <!-- Bootstrap CSS & JS(navbar, footer, modal, cart all use it's functionality SO MAKE SURE TO LINK IT) -->
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH"
      crossorigin="anonymous"
    />
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>

    <!-- Intial Scroll When Reloading-->
    <script>
      // Prevent the browser from restoring the scroll position
      if (history.scrollRestoration) {
        history.scrollRestoration = "manual";
      }
      // Scroll to the top of the page on load
      window.onload = function () {
        window.scrollTo(0, 0);
      };
    </script>
  </head>

  <body>
    <!-- Loader -->
    <%- include('partials/loader.ejs') %>

    <!-- Navbar -->
    <%- include('partials/navbar.ejs') %>

    <!-- Modal -->
    <%- include('partials/modal.ejs') %>

    <!-- Cart -->
    <%- include('partials/cart.ejs') %>

    <!-- Chatbot -->
    <%- include('partials/chatbot.ejs') %>

    <!-- Dark Mode -->
    <%- include('partials/dark-mode.ejs') %>

    <div class="account-container">
      <h1 class="main-heading">WELCOME TO YOUR ACCOUNT.</h1>

      <section class="order-history">
        <h2>ORDER HISTORY</h2>
        <p class="empty-message">You haven't placed any orders yet.</p>
        <button class="action-button">START SHOPPING</button>
      </section>

      <section class="account-details">
        <h2>ACCOUNT DETAILS</h2>
        <div class="details-container">
          <div class="profile-section">
            <h3>PROFILE & SECURITY</h3>
            <div class="edit-link" data-bs-toggle="modal" data-bs-target="#editProfileModal">Edit</div>
          </div>

          <div class="profile-info">
            <div class="info-row">
              <div class="info-label">Name</div>
              <div class="info-value">Add name</div>
            </div>
            <div class="info-row">
              <div class="info-label">Contact</div>
              <div class="info-value">Add mobile</div>
            </div>
            <div class="info-row">
              <div class="info-label">Email</div>
              <div class="info-value"><%= locals.user ? locals.user.email : 'Add email' %></div>
            </div>
            <div class="info-row">
              <div class="info-label">Password</div>
              <div class="info-value">••••••••••••</div>
            </div>
          </div>
        </div>
      </section>

      <section class="address-book">
        <h2>ADDRESS BOOK</h2>
        <a href="#" class="add-address">Add an Address</a>
        <p class="empty-message">You haven't saved any addresses yet.</p>
      </section>

      <div class="sign-out-container">
        <button class="sign-out-button">SIGN OUT</button>
      </div>
    </div>

    <!-- Bootstrap Edit Profile Modal -->
    <div class="modal fade" id="editProfileModal" tabindex="-1" aria-labelledby="editProfileModalLabel" aria-hidden="true">
      <div class="modal-dialog modal-dialog-centered">
        <div class="modal-content edit-profile-modal-content">
          <div class="modal-header">
            <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
          </div>
          <div class="modal-body">
            <form id="profile-form">
                <h6 class="mt-4 mb-3">CHANGE YOUR PASSWORD</h6>
              <div class="mb-3">
                <input type="text" id="firstName" class="form-control" placeholder="First name">
              </div>
              <div class="mb-3">
                <input type="text" id="lastName" class="form-control" placeholder="Last name">
              </div>
              <div class="mb-3">
                <input type="tel" id="phoneNumber" class="form-control" placeholder="Phone number">
              </div>
              <div class="mb-3">
                <input type="email" id="email" class="form-control" placeholder="Email" value="<%= locals.user ? locals.user.email : '' %>" readonly>
              </div>

              <h6 class="mt-4 mb-3">CHANGE YOUR PASSWORD</h6>
              
              <div class="mb-3">
                <input type="password" id="currentPassword" class="form-control password-field" placeholder="•••••••">
              </div>
              <div class="mb-3">
                <input type="password" id="newPassword" class="form-control" placeholder="New password">
              </div>
              <div class="mb-3">
                <input type="password" id="confirmPassword" class="form-control" placeholder="Re-enter new password">
              </div>
              <p class="password-hint text-muted">Passwords must be at least 6 characters.</p>

              <div class="d-grid gap-2 mt-4">
                <button type="submit" class="btn btn-dark save-button">SAVE</button>
                <button type="button" class="btn btn-outline-dark cancel-button" data-bs-dismiss="modal">CANCEL</button>
              </div>
            </form>
          </div>
        </div>
      </div>
    </div>

    <!-- Footer -->
    <%- include('partials/footer.ejs') %>

    <!-- This page's main js file -->
    <script src="../js/account.js"></script>

    <!-- END OF BODY SCRIPTS -->
  </body>
</html>
